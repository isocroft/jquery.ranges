(function(n){var t=this;typeof define=="function"&&"amd"in define&&define(["jquery"],n),module&&typeof module.exports=="object"&&n(require("jquery")),t.window===t&&t.jQuery&&n(t.jQuery)})(function(n,t){"use strict";n.fn.ranges=function(i){var f=!0,u=!1;if(n.rangeSet===t){n.isPlainObject(i)||(i={},n.rangeSet=u);var o={step:1,max:100,min:0,vals:0,scale:10,roundValues:f,allowArrow:f,inputEditable:u,pinClass:"pin",boxClass:"box",inputTagClass:"tag",arrowSize:8,inputClass:"text",stripClass:"strip"},r=n.extend(o,i),e=r.max-r.min,i=r.vals>=r.min&&r.max>=r.vals&&e%r.step==0&&r||null,r=null;return n.rangeSet=f,n(this).each(function(t){var w="mousemove.rangespl",et="aria-value",b="left",y="0px",r="px",ft="relative",d="role",k="class",g=document.createDocumentFragment(),s=i.vals,ot=s/e*100,c=u,nt=0,st=n("<div>").attr(k,"ranges-input-"+i.boxClass),l=n(this).attr(d,"application").css({position:ft}),lt="aria-ranges-"+(l[0].id||"widget"),at=n("<div id="+lt+' class="ranges-wrapper"><\/div>'),p=parseInt(l.css("width")),ht=parseInt(l.css("height")),bt=l.outerWidth(),vt=.25*p,tt=.25*ht,kt=vt*2,yt=tt*2,it=ht,pt=ot/100*p,h=.5*parseInt(it),a=pt-h,o=n("<a>").css({width:it-2+r,height:it-2+r,display:"block",textDecoration:"none",position:"absolute",left:a+r,top:y,margin:y,padding:y,border:"1px solid transparent"}),v=n("<div>").css({height:yt+r,position:ft,padding:y,margin:tt+"px 0px "+tt+"px 0px",width:parseInt(o.css(b))+h+r,border:"none"}),rt=n("<span>"),ut=0-h,ct=ut+p,wt=function(t,u,f){a=f<=ut?ut:f>=ct?ct:f,s=(a+h)/p*e,v.attr(et,s),ot=s/e*100,t.css(b,a+r),u.css("width",a+h+r),n("input.ranges-input-"+i.inputClass).val(i.roundValues?Math.round(i.scale*s):i.scale*s)};st.html('<span class="ranges-input-'+i.inputTagClass+'"><\/span><input type="text" value="'+(i.roundValues?Math.round(i.scale*s):i.scale*s)+'" '+(i.inputEditable?'readonly="readonly"':"")+" tabindex="+t+' class="ranges-input-'+i.inputClass+'" />'),rt.addClass("arrow-ranges").addClass("arrow-ranges-n"),rt.css({color:"#666666",borderWidth:i.arrowSize+r,borderBottomColor:"#999999",borderBottomStyle:"solid",borderBottomWidth:i.arrowSize+r,left:h-10+r}),o.attr(k,"ranges-"+i.pinClass),o.attr("href","javascript:void(0);"),o.attr("click","return false;"),o.attr(d,"pin"),i.allowArrow&&rt.appendTo(o),v.attr(k,"ranges-"+i.stripClass),v.attr(d,"slider"),v.attr(et,i.vals),g.appendChild(v[0]),g.appendChild(o[0]),l[0].appendChild(g),l.wrap(at),n(".ranges-wrapper").append(st);o.on("mousedown",function(t){var r=t.clientX,i=function(n){wt(o,v,n.clientX-h)};c||(c=f),nt=this,a=parseInt(n(nt).css(b)),nt.ondragstart=function(){return u},c&&(n.throttle?n(document).bind(w,n.throttle(10,f,i)):n(document).bind(w,function(n){i(n)}))});n(document).on("mouseup",function(){c&&(c=u),c||n(document).unbind(w)})})}}})